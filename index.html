<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#0d0d0d" />
  <title>Data Flood Console</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <svg style="position: absolute; width: 0; height: 0; overflow: hidden;">
    <filter id="scribble--0">
      <feturbulence basefrequency="0.02" numoctaves="3" result="noise" seed="0"></feturbulence>
      <fedisplacementmap in="SourceGraphic" in2="noise" scale="2"></fedisplacementmap>
    </filter>
    <filter id="scribble--1">
      <feturbulence basefrequency="0.02" numoctaves="3" result="noise" seed="1"></feturbulence>
      <fedisplacementmap in="SourceGraphic" in2="noise" scale="3"></fedisplacementmap>
    </filter>
    <filter id="scribble--2">
      <feturbulence basefrequency="0.02" numoctaves="3" result="noise" seed="2"></feturbulence>
      <fedisplacementmap in="SourceGraphic" in2="noise" scale="2"></fedisplacementmap>
    </filter>
    <filter id="scribble--3">
      <feturbulence basefrequency="0.02" numoctaves="3" result="noise" seed="3"></feturbulence>
      <fedisplacementmap in="SourceGraphic" in2="noise" scale="3"></fedisplacementmap>
    </filter>
    <filter id="scribble--4">
      <feturbulence basefrequency="0.02" numoctaves="3" result="noise" seed="4"></feturbulence>
      <fedisplacementmap in="SourceGraphic" in2="noise" scale="2"></fedisplacementmap>
    </filter>
  </svg>

  <main class="app-shell">
    <header class="hero">
      <p class="eyebrow">Bandwidth Lab</p>
      <h1 class="hero-title">Data Flood Console</h1>
      <p class="subhead">Spin up aggressive fetch streams to stress-test any data plan. Keep the browser foregrounded and stay on power for the fastest drain.</p>
    </header>

    <section class="panel toggle-panel">
      <div class="toggle-wrapper">
        <label class="switch" for="toggleButton">
          <span class="switch-label">Data storm</span>
          <input type="checkbox" id="toggleButton" />
        </label>
        <div class="status-chip" id="status">Idle</div>
      </div>
      <div class="hint-row">
        <p class="hint">The counter below tracks encoded payload bytes so onboard usage dashboards match what you see here.</p>
        <button type="button" class="ghost-button" id="resetStats">Reset counters</button>
      </div>
    </section>

    <section class="panel stats-grid" aria-live="polite">
      <article class="stat-card">
        <p class="label">Verified data transfer</p>
        <p class="value" id="downloadedSize">0.000 GB</p>
        <p class="detail">Counts encoded bytes from the network layer.</p>
      </article>
      <article class="stat-card">
        <p class="label">Current speed</p>
        <p class="value" id="downloadSpeed">0.00 MB/s</p>
        <p class="detail" id="peakSpeed">Peak 0.00 MB/s</p>
      </article>
      <article class="stat-card">
        <p class="label">Active streams</p>
        <p class="value" id="workerCount">0 / 0</p>
        <p class="detail">Chunk size <span id="chunkSize">0 MB</span></p>
      </article>
      <article class="stat-card">
        <p class="label">Session time</p>
        <p class="value" id="sessionDuration">00:00:00</p>
        <p class="detail">Top sources: <span id="sourceSummary">Waiting for samples</span></p>
      </article>
    </section>

    <section class="panel control-grid">
      <div class="control-block">
        <div class="control-header">
          <label for="aggressionSlider">Aggression preset</label>
          <span id="aggressionLabel">Ludicrous flood</span>
        </div>
        <input type="range" min="0" max="2" step="1" value="2" id="aggressionSlider" />
        <p class="hint">Adaptive tuning still runs automatically; this only raises or lowers its ceiling.</p>
      </div>
      <div class="control-block">
        <label for="sourceSelect">Source mix</label>
        <select id="sourceSelect">
          <option value="auto">Auto mix (default)</option>
          <option value="heavy">Heaviest only</option>
          <option value="tailnet">Tailnet priority</option>
          <option value="fallback">Fallback CDN</option>
        </select>
        <p class="hint" data-source-description>Preferred option for accurate OS data usage</p>
      </div>
    </section>

    <section class="panel log-panel">
      <div class="log-header">
        <h2>Activity log</h2>
        <button type="button" id="clearLog">Clear</button>
      </div>
      <div id="activityLog" class="log-entries" aria-live="polite"></div>
    </section>

    <footer class="footer">
      <p>Tip: disable Auto-Lock, Low Data Mode, and any VPN compression for the most accurate burn measurements.</p>
    </footer>
  </main>

  <script src="script.js"></script>
</body>
</html>
